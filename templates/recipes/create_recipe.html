<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Recipe</title>
  <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body class="recipes-page">

  <a href="/recipes/" class="back-link">‚Üê All Recipes</a>
  <h1>Create New Recipe</h1>

  <!-- Recipe Info -->
  <section id="recipe-info-section">
    <label for="recipe-name">Recipe Name:</label>
    <input type="text" id="recipe-name" name="recipe-name" placeholder="Enter recipe name">
    <div class="error-create-recipe" id="errorName"></div>

    <label for="portion-size">Portion Size:</label>
    <input type="text" id="portion-size" name="portion-size" placeholder="e.g., 2 portion or 3 people or 1.5 kg, etc.">
    <div class="error-create-recipe" id="errorPS"></div>

    <label for="description">Description:</label>
    <textarea id="description" name="description" rows="3" placeholder="Enter description"></textarea>
    <div class="error-create-recipe" id="errorDesc"></div>

    <label for="privacy">Private Recipe:</label>
    <input type="checkbox" id="privacy" name="privacy" checked>
  </section>

  <!-- Placeholder for Recipe Image -->
  <section id="recipe-image-section">
    <p>Recipe image placeholder (to be added later)</p>
    <div class="image-placeholder"></div>
  </section>
  <!-- Ingredients info-->
  <h2>Ingredients</h2>
  <table id="ingredients-table">
    <thead>
      <tr>
        <th>Ingredient</th>
        <th>Quantity</th>
        <th>Unit</th>
        <th>Base Quantity</th>
        <th>Base Unit</th>
        <th>Base Price</th>
      </tr>
    </thead>
    <tbody id="ingredients-tbody">
      <tr>
        <td style="position: relative;">
          <input type="text" name="ingredient_name_0" class="ingredient-input" placeholder="Ingredient" autocomplete="off">
          <div class="suggestions" id="suggestions_0"></div>
        </td>
        <td><input type="number" step="any" name="quantity_0" placeholder="Qty" min="0.01" class="validated-number"></td>
        <td>
          <select name="unit_0" class="unit-select">
            <option value="">-- Select unit --</option>
          </select>
        </td>
        <td><input type="number" step="any" name="base_quantity_0" placeholder="Base Qty" min="0.01" class="validated-number"></td>
        <td><input type="text" name="base_unit_0" placeholder="Base Unit"></td>
        <td><input type="number" step="any" name="base_price_0" placeholder="Base Price" min="0.01" class="validated-number"></td>
      </tr>
      <tr>
        <td style="position: relative;">
          <input type="text" name="ingredient_name_1" class="ingredient-input" placeholder="Ingredient" autocomplete="off">
          <div class="suggestions" id="suggestions_1"></div>
        </td>
        <td><input type="number" step="any" name="quantity_1" placeholder="Qty"></td>
        <td>
          <select name="unit_1" class="unit-select">
            <option value="">-- Select unit --</option>
          </select>
        </td>
        <td><input type="number" step="any" name="base_quantity_1" placeholder="Base Qty"></td>
        <td><input type="text" name="base_unit_1" placeholder="Base Unit"></td>
        <td><input type="number" step="any" name="base_price_1" placeholder="Base Price"></td>
      </tr>
    </tbody>
  </table>

  <!-- Steps info-->
  <h2>Steps</h2>
  <table id="steps-table">
    <thead>
      <tr>
        <th>Step Number</th>
        <th>Step Text</th>
      </tr>
    </thead>
    <tbody id="steps-tbody">
      <!-- Initially only 1 row -->
      <tr>
        <td>1</td>
        <td>
          <input type="text" name="step_text_0" class="step-input" placeholder="Step description">
        </td>
      </tr>
    </tbody>
  </table>
  <div id="error" class="error-message"></div>
  <button type="submit" id="submit-recipe-btn">Save Recipe</button>
  <!-- Reusable Modal Overlay -->
<div id="modal-overlay" class="modal-overlay" style="display:none;">
  <div id="alert-box" class="alert-box">
    <p id="alert-message"></p>
    <div id="alert-actions" style="display:none;">
      <button id="alert-ok">OK</button>
    </div>
  </div>
</div>

<script src="/static/js/create-recipe.js"></script>
</body>
</html>
