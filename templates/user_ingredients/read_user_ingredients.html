{% extends "base.html" %}

{% block title %}Your Ingredients{% endblock %}

{% block head %}
<style>
    .ingredient-card {
        border-radius: 12px;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .ingredient-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    }

    /* Ingredient name */
    .ingredient-name {
        font-size: 1.5rem;           /* Bigger than normal text */
        font-weight: 600;
        color: #2d623c;               /* Elegant dark blue/grey */
        margin-bottom: 0.25rem;
    }

    /* Meta row */
    .ingredient-meta {
        font-size: .95rem;
        color: #111a20;               /* Bootstrap muted */
    }

    /* quantity and unit highlight */
    .ingredient-units {
        font-size: 1.15rem;
        font-weight: 400;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        color: #636664;               /* Bootstrap success green */
        margin-right: 6px;
    }

    /* Price highlight */
    .ingredient-price {
        font-size: 1.25rem;
        font-weight: 600;
        color: #060606;               /* Bootstrap success green */
        margin-right: 6px;
    }

    /* Quantity + unit */
    .ingredient-text {
        font-weight: 500;
    }

    /* cup + unit */
    .cup-units {
        font-size: 1.15rem;
        font-weight: 600;
        font-family:Verdana, Geneva, Tahoma, sans-serif;
        color: #416c50;               /* Bootstrap success green */
        margin-right: 6px;
    }
</style>

{% endblock %}

{% block content %}
    <div class="d-flex align-items-center justify-content-between mb-4">
        <div>
            <h2 id="heading" class="mb-4">Your Ingredients</h2>
            <a id="addIngredientBtn" class="btn btn-primary d-none" href="/user_ingredients/create">Add Ingredient</a>
        </div>
        

        <input type="text" id="ingredientSearch" class="form-control w-25 d-none" placeholder="Search ingredients...">
    </div>

    <!-- Dynamic area where JS will insert the list of ingredients -->
    <div id="ingredients-container">
    <!-- Initial loading state (shown until data arrives) -->
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-3 text-muted">Loading your ingredients...</p>
        </div>
    </div>

    <!-- Empty state or call-to-action (shown if no ingredients) -->
    <div id="empty-state" class="alert alert-info text-center d-none mt-4">
        You don't have any ingredients saved yet.<br>
        <a href="/user_ingredients/create" class="alert-link">Add your first ingredient →</a>
    </div>
    <!-- No ingredient found with such text in search bar  -->
    <div id="no-such-ingredient" class="alert alert-info text-center d-none mt-4">
        You don't have any such ingredients.<br>
        <!-- <a href="/user_ingredients/create" class="alert-link">Add your first ingredient →</a> -->
    </div>

    <!-- Spinner -->
    <div id="loadingSpinner" class="text-center py-5 d-none">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3 text-muted">Loading your ingredients...</p>
    </div>

    <!-- Error message area (hidden by default) -->
    <div id="errorBox" class="alert alert-danger d-none mt-4" role="alert">
    <!-- JS will put the message here -->
    </div>


{% endblock %}

{% block scripts %}
<script type="module" src="/static/js/features/user_ingredients/read-user-ingredients.js"></script>
{% endblock %}
